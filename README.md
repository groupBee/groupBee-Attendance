# Attendance Management System 🕒

## 프로젝트 개요
이 근태 관리 시스템은 외부 솔루션인 **Odoo**와 연동하여 구현되었습니다.  
**Odoo**는 출퇴근 관리 및 근무 시간 계산을 제공하며, 우리는 **XML-RPC** 방식으로 **Odoo API**와 통신하여 출퇴근 데이터를 관리합니다.  
로컬에 데이터베이스를 따로 설정하지 않았으며, **Odoo**에서 제공하는 DB를 활용하였습니다.  
이 프로젝트는 Docker를 사용하여 **Odoo**를 구동하고, 출퇴근 기록 및 근무 시간 관리를 효율적으로 처리합니다.

---

## 기술 스택

- **Odoo**: 출퇴근 관리 솔루션으로, 외부 데이터베이스를 제공하며 XML-RPC 통신을 통해 데이터를 주고받습니다.
- **Docker & Docker-Compose**: **Odoo** 솔루션을 VM 환경에서 쉽게 배포 및 관리하기 위해 사용되었습니다.
- **XML-RPC**: RESTful API 대신 사용된 통신 방식으로, 출퇴근 데이터 전송 및 관리에 활용되었습니다.

---

## 주요 기능

1. **출근/퇴근 관리**:
   - 출근 버튼을 클릭하면 해당 시간에 출근 시간이 기록되고, 퇴근 버튼을 클릭하면 퇴근 시간이 기록됩니다.
   - 예를 들어, 1월 1일 오전 8시에 출근하면 출근 버튼이 **"8:00"**로 바뀌고, 퇴근 버튼은 여전히 **"퇴근"**으로 표시됩니다.
   - 퇴근 시간이 기록되면 해당 버튼이 퇴근 시간으로 변경되며, 예를 들어, 1월 1일 오후 8시에 퇴근하면 **"20:00"**으로 바뀝니다.

2. **출근/퇴근 버튼 초기화**:
   - 출근과 퇴근 시간이 같은 날일 경우, 다음날 자정(00시)이 되면 출근과 퇴근 시간이 초기화되어 버튼이 다시 활성화됩니다.
   - 만약 출근과 퇴근 시간이 다른 날일 경우, 퇴근 시간이 기록된 후 **1시간 뒤**에 버튼이 초기화됩니다.

3. **퇴근 전 출근 불가 로직**:
   - 사용자가 출근을 기록한 뒤 퇴근하지 않았다면, 다음 출근 전 반드시 퇴근을 기록해야만 출근할 수 있습니다.
   - 만약 퇴근 기록이 없을 경우, 인사부에 연락하여 퇴근 시간을 수동으로 입력하도록 설계되었습니다.

4. **근무 시간 자동 계산**:
   - 근태 관리 페이지에 진입 시, 당일 근무 시간이 자동으로 계산됩니다.
   - **Odoo**에서 제공하는 하루 근무 시간을 가져와, 기본 8시간 근무 기준으로 남은 시간을 계산하여 출력합니다.
   - 예: 하루 7시간 근무 시, **8시간 - 7시간 = 1시간**이 남았다는 표시를 제공합니다.

---

## 시스템 설계 및 통신 방식

1. **Odoo와의 연동**
   - **Odoo**는 기본적으로 무료로 RESTful API를 제공하지 않으므로, 우리는 **XML-RPC**를 사용하여 출퇴근 데이터를 처리하였습니다.
   - **XML-RPC** 방식은 서버 간 원격 호출을 가능하게 하며, 출퇴근 시간 기록, 근무 시간 계산 등의 데이터를 주고받는 데 사용되었습니다.

2. **Docker 환경**
   - **Docker-compose**를 활용하여 VM 환경에서 **Odoo** 솔루션을 배포 및 관리합니다.
   - 로컬 데이터베이스를 별도로 설정하지 않고, **Odoo**에서 제공하는 데이터베이스를 통해 근태 정보를 관리합니다.

3. **출퇴근 관리 로직**
   - 출근 및 퇴근 시간을 기록하는 버튼은 자동으로 시간이 변경되며, 해당 시간이 자정 이후 또는 퇴근 후 일정 시간이 지나면 초기화됩니다.
   - 이러한 동작은 출퇴근 간의 중복을 방지하고 정확한 기록을 보장합니다.

---

## 결론
이 근태 관리 시스템은 **Odoo**와의 강력한 연동을 통해 출퇴근 기록을 효율적으로 관리할 수 있습니다.  
**XML-RPC** 통신 방식을 사용하여 실시간으로 출퇴근 데이터를 처리하며, 자동화된 근태 계산 기능을 통해 관리자와 직원 모두에게 편리함을 제공합니다.  
또한, **Docker**를 통해 쉽게 배포되고 관리되며, 추가적인 데이터베이스 설정 없이 Odoo의 강력한 기능을 활용합니다.
